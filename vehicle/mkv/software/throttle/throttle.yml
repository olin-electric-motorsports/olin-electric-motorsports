name: throttle
subscribe:
  # Transmit MOB is 0
  - name: brakelight
    mob: 1
  - name: dashboard
    mob: 2
publish:
  - name: M192_Command_Message
  - name: throttle
    id: 0xC
    freq_hz: 100
    signals:
      - name: state
        slice: 0 + 8
        unit:
          type: enum
          values:
            - THROTTLE_IDLE
            - THROTTLE_RUN
            - THROTTLE_FAULT
            - THROTTLE_OUT_OF_RANGE_UPPER
            - THROTTLE_OUT_OF_RANGE_LOWER
            - THROTTLE_POSITION_IMPLAUSIBILITY
            - THROTTLE_BRAKE_PRESSED
      - name: throttle_r_pos
        slice: 8 + 8
        unit:
          type: uint8_t
          name: deg
          offset: 0
          scale: 1
      - name: throttle_l_pos
        slice: 16 + 8
        unit:
          type: uint8_t
          name: deg
          offset: 0
          scale: 1
      - name: BOTS_sense
        slice: 24 + 1
        unit:
          type: bool
          values:
            t: BOTS shutdown node closed
            f: BOTS shutdown node open
      - name: inertia_switch_sense
        slice: 25 + 1
        unit:
          type: bool
          values:
            t: inertia switch shutdown node closed
            f: inertia switch shutdown node open
      - name: E_stop_sense
        slice: 26 + 1
        unit:
          type: bool
          values:
            t: E-stop shutdown node closed
            f: E-stop shutdown node open
